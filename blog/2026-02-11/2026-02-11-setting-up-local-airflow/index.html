<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>

<link rel="stylesheet" href="/css/style.min.fedad2a11a38b50ac0ee408c47b30b4a96f033bf2bad09a9b6303ada6a77d867.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta charset="UTF-8">
<title>Fedor Zajac</title>
</head>
<body>

    <header>
    <span class="logo">FZ</span>

  <nav>
    
    <a href="/">Home</a>
    
    <a href="/about">About</a>
    <a href="/contact">Contact</a>
  </nav>
</header>

    <main id="swup">
        

<article>

    <h1>üí® Setting Up Airflow for local development</h1>
    <p style="color: var(--accent); margin-top: -1rem;">
        11. 2. 2026
    </p>

    

    

    <div class="content">
        <h3 id="setting-up-airflow">Setting up Airflow</h3>
<p>Basically it is easy to just follow instructions on airflow <a href="https://airflow.apache.org/docs/apache-airflow/stable/howto/docker-compose/index.html#docker-compose-env-variables">website</a>.</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># fetch docker compose</span>
</span></span><span style="display:flex;"><span>curl -LfO <span style="color:#b8bb26">&#39;https://airflow.apache.org/docs/apache-airflow/3.1.7/docker-compose.yaml&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># init dirs and airflow UID</span>
</span></span><span style="display:flex;"><span>mkdir -p ./dags ./logs ./plugins ./config
</span></span><span style="display:flex;"><span><span style="color:#fabd2f">echo</span> -e <span style="color:#b8bb26">&#34;AIRFLOW_UID=</span><span style="color:#fe8019">$(</span>id -u<span style="color:#fe8019">)</span><span style="color:#b8bb26">&#34;</span> &gt; .env
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># initialize airflow config</span>
</span></span><span style="display:flex;"><span>docker compose run airflow-cli airflow config list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># optional (if you are on linux)</span>
</span></span><span style="display:flex;"><span>volumes:
</span></span><span style="display:flex;"><span>  - <span style="color:#b8bb26">${</span>AIRFLOW_PROJ_DIR<span style="color:#fe8019">:-</span>.<span style="color:#b8bb26">}</span>/dags:/opt/airflow/dags:z
</span></span><span style="display:flex;"><span>  - <span style="color:#b8bb26">${</span>AIRFLOW_PROJ_DIR<span style="color:#fe8019">:-</span>.<span style="color:#b8bb26">}</span>/logs:/opt/airflow/logs:z
</span></span><span style="display:flex;"><span>  - <span style="color:#b8bb26">${</span>AIRFLOW_PROJ_DIR<span style="color:#fe8019">:-</span>.<span style="color:#b8bb26">}</span>/config:/opt/airflow/config:z
</span></span><span style="display:flex;"><span>  - <span style="color:#b8bb26">${</span>AIRFLOW_PROJ_DIR<span style="color:#fe8019">:-</span>.<span style="color:#b8bb26">}</span>/plugins:/opt/airflow/plugins:z
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># no need on mac:</span>
</span></span><span style="display:flex;"><span>sudo chmod -R <span style="color:#d3869b">777</span> ./config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># and initialize db</span>
</span></span><span style="display:flex;"><span>docker compose up airflow-init
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># running:</span>
</span></span><span style="display:flex;"><span>docker compose up
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># stopping</span>
</span></span><span style="display:flex;"><span>docker compose down --volumes --remove-orphans
</span></span></code></pre></td></tr></table>
</div>
</div><p>However, this might not be sufficient. You might want to have your own dependencies, so update compose file:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#fb4934">x-airflow-common</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#8ec07c">&amp;airflow-common</span>
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic">#...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fb4934">_PIP_ADDITIONAL_REQUIREMENTS</span>: <span style="color:#b8bb26">&#39;matplotlib pandas numpy rasterio geopandas&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic"># jwt secret, to the services will communicato to each other</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fb4934">AIRFLOW__API_AUTH__JWT_SECRET</span>: <span style="color:#b8bb26">&#39;715b414d09ef6791693fbd9668e17323&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic">#...</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>I believe no additional changes are necessary</p>

    </div>

</article>


    </main>

    <footer>
  <span class="footer-copy">¬© 2026  ¬∑ Built with ‚ù§Ô∏è in Hugo</span>
  <div class="footer-links">
    <a href="#">rss</a>
    <a href="#">email</a>
    <a href="#">github</a>
  </div>
</footer>


<script>
const WX = {
  0:'clear',1:'mostly clear',2:'partly cloudy',3:'overcast',
  45:'fog',48:'fog',51:'drizzle',53:'drizzle',55:'drizzle',
  61:'rain',63:'rain',65:'heavy rain',
  71:'snow',73:'snow',75:'heavy snow',
  80:'showers',81:'showers',82:'thunderstorm',
  95:'thunderstorm',96:'thunderstorm',99:'thunderstorm'
};

const KEY = 'wx_cache';
const TTL = 10 * 60 * 1000;
const el  = document.getElementById('wx');

function render(d) {
  const t    = Math.round(d.current.temperature_2m);
  const desc = WX[d.current.weathercode] ?? '‚Äî';
  el.textContent = `${t}¬∞ ¬∑ ${desc}`;
}

const cached = JSON.parse(localStorage.getItem(KEY) || 'null');
if (cached && Date.now() - cached.ts < TTL) {
  render(cached.data);
} else {
  fetch('https://api.open-meteo.com/v1/forecast?latitude=48.15&longitude=17.11&current=temperature_2m,weathercode&timezone=Europe%2FPrague')
    .then(r => r.json())
    .then(d => {
      localStorage.setItem(KEY, JSON.stringify({ ts: Date.now(), data: d }));
      render(d);
    })
    .catch(() => { el.textContent = '‚Äî'; });
}
</script>
</body>

</html>
