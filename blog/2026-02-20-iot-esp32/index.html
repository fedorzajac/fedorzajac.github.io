<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>

<link rel="stylesheet" href="/css/style.min.fedad2a11a38b50ac0ee408c47b30b4a96f033bf2bad09a9b6303ada6a77d867.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta charset="UTF-8">
<title>Fedor Zajac</title>
</head>
<body>

    <header>
    <span class="logo">FZ</span>

  <nav>
    
    <a href="/">Home</a>
    
    <a href="/about">About</a>
    <a href="/contact">Contact</a>
  </nav>
</header>

    <main id="swup">
        

<article>

    <h1>üï∏Ô∏è Internet of Things: ESP32, MicroPython</h1>
    <p style="color: var(--accent); margin-top: -1rem;">
        20. 2. 2026
    </p>

    

    

    <div class="content">
        <p>I bought a microcontroller.</p>
<p>Not my first one. Probably not the last one either.
But this time it‚Äôs <strong>ESP32</strong> ‚Äî a tiny piece of silicon that somehow manages to squeeze in Wi-Fi, Bluetooth, enough GPIOs to get you into trouble, and just enough documentation to keep things interesting.</p>
<p>ESP32 is one of those chips that quietly became <em>the</em> default choice for hobby IoT: cheap, powerful, well-supported, and forgiving enough that you can flash it a dozen times without bricking it (usually).</p>
<h2 id="why-esp32--micropython">Why ESP32 + MicroPython?</h2>
<p>Because life is too short to write C for blinking LEDs.</p>
<p>MicroPython gives you a Python 3‚Äìlike environment running <strong>directly on the microcontroller</strong>. No OS, no containers, no systemd ‚Äî just you, bare metal, and a REPL. It feels wrong in the best possible way.</p>
<p>To make this work, we need to flash MicroPython firmware onto the ESP32.</p>
<h2 id="getting-the-firmware">Getting the firmware</h2>
<p>The official MicroPython builds live here:</p>
<ul>
<li><a href="https://micropython.org/download/ESP32_GENERIC/">https://micropython.org/download/ESP32_GENERIC/</a></li>
</ul>
<p>For this setup, I used:</p>
<ul>
<li><a href="https://micropython.org/resources/firmware/ESP32_GENERIC-20251209-v1.27.0.bin">https://micropython.org/resources/firmware/ESP32_GENERIC-20251209-v1.27.0.bin</a></li>
</ul>
<p>Yes, it‚Äôs just a <code>.bin</code> file. No installer. No wizard. No safety net.</p>
<h2 id="connecting-the-board">Connecting the board</h2>
<p>Plug the ESP32 into your computer via USB.
Now find out what device name it got assigned:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ls /dev/cu.*
</span></span></code></pre></td></tr></table>
</div>
</div><p>You‚Äôre looking for something like usbserial, SLAB_USBtoUART, or similarly cryptic poetry.</p>
<h2 id="flashing-micropython-onto-the-esp32">Flashing MicroPython onto the ESP32</h2>
<p>First, install the flashing tool:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install esptool
</span></span></code></pre></td></tr></table>
</div>
</div><p>It‚Äôs a good idea to wipe the flash completely (clean slate, clean conscience):</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>esptool.py --port /dev/cu.usbserial-110 erase_flash
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now flash the firmware:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>esptool.py --chip esp32 <span style="color:#b8bb26">\
</span></span></span><span style="display:flex;"><span>  --port /dev/cu.usbserial-110 <span style="color:#b8bb26">\
</span></span></span><span style="display:flex;"><span>  --baud <span style="color:#d3869b">460800</span> <span style="color:#b8bb26">\
</span></span></span><span style="display:flex;"><span>  write_flash -z 0x1000 ESP32_GENERIC-20251209-v1.27.0.bin
</span></span></code></pre></td></tr></table>
</div>
</div><p>If this succeeds, your ESP32 has officially stopped being a dumb piece of hardware and started being a programmable one.</p>
<p>Talking to the ESP32 (REPL mode)</p>
<p>To communicate with MicroPython, install mpremote:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install mpremote
</span></span></code></pre></td></tr></table>
</div>
</div><p>Connect to the board and open the REPL:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mpremote connect /dev/cu.SLAB_USBtoUART repl
</span></span></code></pre></td></tr></table>
</div>
</div><p>If you see (yuo might hit <code>enter</code> along the way):</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>You‚Äôre in.
This is a live Python prompt running on a microcontroller. Let that sink in.</p>
<p>Useful commands you‚Äôll need sooner than you think:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># List files on the ESP32:</span>
</span></span><span style="display:flex;"><span>mpremote ls
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># Remove a file:</span>
</span></span><span style="display:flex;"><span>mpremote rm file.py
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="the-obligatory-blinking-led">The obligatory blinking LED</h2>
<p>No embedded journey is complete without a blinking LED.
This one uses GPIO 2, which is usually connected to the onboard LED on ESP32 dev boards.</p>
<p>Create main.py:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>from machine import Pin
</span></span><span style="display:flex;"><span>from <span style="color:#fabd2f">time</span> import sleep
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>led <span style="color:#fe8019">=</span> Pin<span style="color:#fe8019">(</span>2, Pin.OUT<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fe8019">while</span> True:
</span></span><span style="display:flex;"><span>    led.value<span style="color:#fe8019">(</span>1<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>    sleep<span style="color:#fe8019">(</span>0.5<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>    led.value<span style="color:#fe8019">(</span>0<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>    sleep<span style="color:#fe8019">(</span>0.5<span style="color:#fe8019">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Upload it to the ESP32:</p>
<div class="highlight"><div style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mpremote connect /dev/cu.usbserial-110 fs cp main.py :
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>main.py</code> is special: it runs automatically on boot.
Power-cycle the board, and the LED starts blinking without asking for permission.</p>

    </div>

</article>


    </main>

    <footer>
  <span class="footer-copy">¬© 2026  ¬∑ Built with ‚ù§Ô∏è in Hugo</span>
  <div class="footer-links">
    <a href="#">rss</a>
    <a href="#">email</a>
    <a href="#">github</a>
  </div>
</footer>


<script>
const WX = {
  0:'clear',1:'mostly clear',2:'partly cloudy',3:'overcast',
  45:'fog',48:'fog',51:'drizzle',53:'drizzle',55:'drizzle',
  61:'rain',63:'rain',65:'heavy rain',
  71:'snow',73:'snow',75:'heavy snow',
  80:'showers',81:'showers',82:'thunderstorm',
  95:'thunderstorm',96:'thunderstorm',99:'thunderstorm'
};

const KEY = 'wx_cache';
const TTL = 10 * 60 * 1000;
const el  = document.getElementById('wx');

function render(d) {
  const t    = Math.round(d.current.temperature_2m);
  const desc = WX[d.current.weathercode] ?? '‚Äî';
  el.textContent = `${t}¬∞ ¬∑ ${desc}`;
}

const cached = JSON.parse(localStorage.getItem(KEY) || 'null');
if (cached && Date.now() - cached.ts < TTL) {
  render(cached.data);
} else {
  fetch('https://api.open-meteo.com/v1/forecast?latitude=48.15&longitude=17.11&current=temperature_2m,weathercode&timezone=Europe%2FPrague')
    .then(r => r.json())
    .then(d => {
      localStorage.setItem(KEY, JSON.stringify({ ts: Date.now(), data: d }));
      render(d);
    })
    .catch(() => { el.textContent = '‚Äî'; });
}
</script>
</body>

</html>
